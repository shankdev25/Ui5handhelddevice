<mvc:View controllerName="com.merkavim.ewm.manageprodorder.controller.ProductionOrderContinue"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m">
    <Page id="prodOrderContinuePage" title="{i18n>prodOrderTileHeader}" showNavButton="true" navButtonPress="onNavBack">
        <VBox id="continueVBox" class="sapUiSmallMargin">
            <HBox id="continueButtons" class="sapUiSmallMarginBottom">
                <Button id="btnDisplayIssue" text="{i18n>displayItemsForIssue}"  press="onDisplayIssueItems" type="Unstyled" class="doubleHeightButton greenButton" />
                <Button id="btnClearSelection" text="{i18n>clearSelection}" type="Unstyled" class="sapUiSmallMarginBegin doubleHeightButton lightBlueButton"  press="onClearSelection"/>
            </HBox>
                <!-- Input fields for table columns, aligned vertically -->
                <VBox id="inputFieldsVBox" class="sapUiSmallMarginBottom">
                    <HBox id="hboxInputMaterial" class="sapUiTinyMarginBottom" alignItems="Center">
                        <Text id="lblInputMaterial" text="{i18n>material}" width="10em" textAlign="End" class="sapUiTinyMarginEnd"/>
                        <Input id="inputMaterial" value="{inputFields>/Material}" placeholder="{i18n>material}" width="16em" enabled="false"/>
                    </HBox>
                    <HBox id="hboxInputMaterialDescription" class="sapUiTinyMarginBottom" alignItems="Center">
                        <Text id="lblInputMaterialDescription" text="{i18n>materialDescription}" width="10em" textAlign="End" class="sapUiTinyMarginEnd"/>
                        <Input id="inputMaterialDescription" value="{inputFields>/MaterialDescription}" placeholder="{i18n>materialDescription}" width="16em" enabled="false"/>
                    </HBox>
                    <HBox id="hboxInputUOM" class="sapUiTinyMarginBottom" alignItems="Center">
                        <Text id="lblInputUOM" text="{i18n>uom}" width="10em" textAlign="End" class="sapUiTinyMarginEnd"/>
                        <Input id="inputUOM" value="{inputFields>/UOM}" placeholder="{i18n>uom}" width="16em" enabled="false"/>
                    </HBox>
                                        <HBox id="hboxInputLocation" class="sapUiTinyMarginBottom" alignItems="Center">
                        <Text id="lblInputLocation" text="{i18n>location}" width="10em" textAlign="End" class="sapUiTinyMarginEnd"/>
                        <Input id="inputLocation" value="{inputFields>/Location}" placeholder="{i18n>location}" width="16em" enabled="false"/>
                    </HBox>
                    <HBox id="hboxInputStock" class="sapUiTinyMarginBottom" alignItems="Center">
                        <Text id="lblInputStock" text="{i18n>stock}" width="10em" textAlign="End" class="sapUiTinyMarginEnd"/>
                        <Input id="inputStock" value="{inputFields>/Stock}" placeholder="{i18n>stock}" width="16em" enabled="false"/>
                    </HBox>
                </VBox>


                <!-- Table for picking items, now scrollable -->
                <VBox id="_IDGenVBox1" >
                    <Table id="pickTable" sticky="ColumnHeaders" items="{pickItems>items}" mode="None" class="sapUiSmallMarginTop">
                        <columns>
                            <!-- General column for mobile devices -->
                            <Column id="colGeneralMobile" visible="{path: 'device>/isPhone', formatter: '.isPhoneVisible'}">
                                <header>
                                    <Text id="lblGeneralMobile" text="{i18n>general}"/>
                                </header>
                            </Column>
                            <!-- Individual columns for non-mobile devices -->
                            <Column id="colAction" visible="{path: 'device>/isPhone', formatter: '.isNotPhoneVisible'}" width="3em">
                                <header>
                                    <CheckBox id="selectAllCheckBox" select="onSelectAll"/>
                                </header>
                            </Column>
                            <Column id="colItem" visible="{path: 'device>/isPhone', formatter: '.isNotPhoneVisible'}"><header><Text id="txtColItem" text="{i18n>action}"/></header></Column>
                            <Column id="colItemDesc" visible="{path: 'device>/isPhone', formatter: '.isNotPhoneVisible'}"><header><Text id="txtColItemDesc" text="{i18n>model}"/></header></Column>
                            <Column id="colDate" visible="{path: 'device>/isPhone', formatter: '.isNotPhoneVisible'}"><header><Text id="txtColDate" text="{i18n>modelDesc}"/></header></Column>
                            <Column id="colLocation" visible="{path: 'device>/isPhone', formatter: '.isNotPhoneVisible'}"><header><Text id="txtColLocation" text="{i18n>shortbusnum}"/></header></Column>
                            <Column id="colInventory" visible="{path: 'device>/isPhone', formatter: '.isNotPhoneVisible'}"><header><Text id="txtColInventory" text="{i18n>date}"/></header></Column>
                            <!-- Reserved and Picking Quantity always shown -->
                            <Column id="colQtyInReservation"><header><Text id="txtColQtyInReservation" text="{i18n>qtyInReservation}"/></header></Column>
                            <Column id="colQtyToPick"><header><Text id="txtColQtyToPick" text="{i18n>qtyToPick}"/></header></Column>
                        </columns>
                        <items>
                            <ColumnListItem id="pickTableRowTemplate">
                                <cells>
                                    <!-- General cell for mobile devices -->
                                    <Text id="txtGeneralMobile" visible="{path: 'device>/isPhone', formatter: '.isPhoneVisible'}"
                                        text="{= 'Action: ' + ${pickItems>VORNR} + ', Model: ' + ${pickItems>MODEL} + ', Desc: ' + ${pickItems>MODEL_DESC} + ', Location: ' + ${pickItems>CY_SEQNR} + ', Date: ' + ${pickItems>BDTER} }"/>
                                    <!-- Individual cells for non-mobile devices -->
                                    <CheckBox id="rowSelectCheckBox" visible="{path: 'device>/isPhone', formatter: '.isNotPhoneVisible'}" selected="{pickItems>selected}" select="onSelectRow"/>
                                    <Text id="rowItem" visible="{path: 'device>/isPhone', formatter: '.isNotPhoneVisible'}" text="{pickItems>VORNR}"/>
                                    <Text id="rowItemDesc" visible="{path: 'device>/isPhone', formatter: '.isNotPhoneVisible'}" text="{pickItems>MODEL}"/>
                                    <Text id="rowDate" visible="{path: 'device>/isPhone', formatter: '.isNotPhoneVisible'}" text="{pickItems>MODEL_DESC}"/>
                                    <Text id="rowLocation" visible="{path: 'device>/isPhone', formatter: '.isNotPhoneVisible'}" text="{pickItems>CY_SEQNR}"/>
                                    <Text id="rowInventory" visible="{path: 'device>/isPhone', formatter: '.isNotPhoneVisible'}" text="{path: 'pickItems>BDTER', formatter: '.formatter.bdterToDDMMYY'}"/>
                                    <!-- Reserved and Picking Quantity always shown -->
                                    <Text id="rowQtyInReservation" text="{pickItems>RESERVED_QTY}"/>
                                    <Input id="rowQtyToPick" value="{pickItems>PICKING_QTY}" valueLiveUpdate="true" type="Number" width="6em"/>
                                </cells>
                            </ColumnListItem>
                        </items>
                    </Table>
                </VBox>

        </VBox>
    </Page>
</mvc:View>