<mvc:View controllerName="com.merkavim.ewm.manageprodorder.controller.ProductionOrderContinue"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:table="sap.ui.table">
    <Page id="prodOrderContinuePage" title="{i18n>prodOrderTileHeader}" showNavButton="true" navButtonPress="onNavBack">
        <VBox id="continueVBox" class="sapUiSmallMargin">
            <HBox id="continueButtons" class="sapUiSmallMarginBottom">
                <Button id="btnDisplayIssue" text="{i18n>displayItemsForIssue}"  press="onDisplayIssueItems" type="Unstyled" class="doubleHeightButton greenButton" />
                <Button id="btnClearSelection" text="{i18n>clearSelection}" type="Unstyled" class="sapUiSmallMarginBegin doubleHeightButton lightBlueButton"  press="onClearSelection"/>
            </HBox>
                <!-- Input fields for table columns, aligned vertically -->
                <VBox id="inputFieldsVBox" class="sapUiSmallMarginBottom">
                    <HBox id="hboxInputMaterial" class="sapUiTinyMarginBottom" alignItems="Center">
                        <Text id="lblInputMaterial" text="{i18n>material}" width="10em" textAlign="End" class="sapUiTinyMarginEnd"/>
                        <Input id="inputMaterial" value="{inputFields>/Material}" placeholder="{i18n>material}" width="16em" enabled="false"/>
                    </HBox>
                    <HBox id="hboxInputMaterialDescription" class="sapUiTinyMarginBottom" alignItems="Center">
                        <Text id="lblInputMaterialDescription" text="{i18n>materialDescription}" width="10em" textAlign="End" class="sapUiTinyMarginEnd"/>
                        <Input id="inputMaterialDescription" value="{inputFields>/MaterialDescription}" placeholder="{i18n>materialDescription}" width="16em" enabled="false"/>
                    </HBox>
                    <HBox id="hboxInputUOM" class="sapUiTinyMarginBottom" alignItems="Center">
                        <Text id="lblInputUOM" text="{i18n>uom}" width="10em" textAlign="End" class="sapUiTinyMarginEnd"/>
                        <Input id="inputUOM" value="{inputFields>/UOM}" placeholder="{i18n>uom}" width="16em" enabled="false"/>
                    </HBox>
                                        <HBox id="hboxInputLocation" class="sapUiTinyMarginBottom" alignItems="Center">
                        <Text id="lblInputLocation" text="{i18n>location}" width="10em" textAlign="End" class="sapUiTinyMarginEnd"/>
                        <Input id="inputLocation" value="{inputFields>/Location}" placeholder="{i18n>location}" width="16em" enabled="false"/>
                    </HBox>
                    <HBox id="hboxInputStock" class="sapUiTinyMarginBottom" alignItems="Center">
                        <Text id="lblInputStock" text="{i18n>stock}" width="10em" textAlign="End" class="sapUiTinyMarginEnd"/>
                        <Input id="inputStock" value="{inputFields>/Stock}" placeholder="{i18n>stock}" width="16em" enabled="false"/>
                    </HBox>
                </VBox>


                <!-- Table for picking items, now scrollable -->
                <VBox id="_IDGenVBox1" >
                    <table:Table id="pickTable" rows="{pickItems>items}" selectionMode="MultiToggle" enableColumnReordering="true" width="100%" rowMode="{ path: 'tableRowMode' }" class="sapUiSmallMarginTop">
                        <table:columns>
                            <table:Column id="colAction">
                                <table:label>
                                    <CheckBox id="selectAllCheckBox" select="onSelectAll"/>
                                </table:label>
                                <table:template>
                                    <CheckBox id="rowSelectCheckBox" selected="{pickItems>selected}" select="onSelectRow"/>
                                </table:template>
                            </table:Column>
                            <table:Column id="colItem">
                                <table:label>
                                    <Text id="txtColItem" text="{i18n>action}"/>
                                </table:label>
                                <table:template>
                                    <Text id="rowItem" text="{pickItems>VORNR}"/>
                                </table:template>
                            </table:Column>
                            <table:Column id="colItemDesc">
                                <table:label>
                                    <Text id="txtColItemDesc" text="{i18n>model}"/>
                                </table:label>
                                <table:template>
                                    <Text id="rowItemDesc" text="{pickItems>MODEL}"/>
                                </table:template>
                            </table:Column>
                            <table:Column id="colDate">
                                <table:label>
                                    <Text id="txtColDate" text="{i18n>modelDesc}"/>
                                </table:label>
                                <table:template>
                                    <Text id="rowDate" text="{pickItems>MODEL_DESC}"/>
                                </table:template>
                            </table:Column>
                            <table:Column id="colLocation">
                                <table:label>
                                    <Text id="txtColLocation" text="{i18n>shortbusnum}"/>
                                </table:label>
                                <table:template>
                                    <Text id="rowLocation" text="{pickItems>CY_SEQNR}"/>
                                </table:template>
                            </table:Column>
                            <table:Column id="colInventory">
                                <table:label>
                                    <Text id="txtColInventory" text="{i18n>date}"/>
                                </table:label>
                                <table:template>
                                    <Text id="rowInventory" text="{path: 'pickItems>BDTER', formatter: '.formatter.bdterToDDMMYY'}"/>
                                </table:template>
                            </table:Column>
                            <table:Column id="colQtyInReservation">
                                <table:label>
                                    <Text id="txtColQtyInReservation" text="{i18n>qtyInReservation}"/>
                                </table:label>
                                <table:template>
                                    <Text id="rowQtyInReservation" text="{pickItems>RESERVED_QTY}"/>
                                </table:template>
                            </table:Column>
                            <table:Column id="colQtyToPick">
                                <table:label>
                                    <Text id="txtColQtyToPick" text="{i18n>qtyToPick}"/>
                                </table:label>
                                <table:template>
                                    <Input id="rowQtyToPick" value="{pickItems>PICKING_QTY}" valueLiveUpdate="true" type="Number" width="6em"/>
                                </table:template>
                            </table:Column>
                        </table:columns>
                    </table:Table>
                </VBox>

        </VBox>
    </Page>
</mvc:View>